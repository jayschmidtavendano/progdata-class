---
title: "Lab 03 - Plastic waste"
author: "Jason R. Schmidt Avendano"
date: !r format(Sys.Date())
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r, Load}
library(gapminder)
library(tidyverse)
```

```{r, Data}
dat_gap <- gapminder
```


24.2 Exercise 1: Basic dplyr
Use dplyr functions to achieve the following. For each exercise, print your result.

24.2.1 1.1
Use filter() to subset the gapminder data to three countries of your choice in the 1970’s.

```{r}
print(dat_gap)

dat_gap %>% 
  filter((country %in% c("Mexico","Asia","Bahrain") & year == 1970-1979))
```



24.2.2 1.2
Start with the original gapminder data and use the pipe operator |> to first do the above filter and then select the “country” and “gdpPercap” variables.

24.2.3 1.3
Make a new variable in gapminder for the change in life expectancy from the previous measurement for that country. Filter this table to show all of the entries that have experienced a drop in life expectancy. Save this result as a new object.

Hint: you might find the lag() or diff() functions useful.

24.2.4 1.4
Filter gapminder so that it shows the max GDP per capita experienced by each country.

Hint: you might find the max() function useful here.

24.2.5 1.5
Produce a scatterplot of Canada’s life expectancy vs. GDP per capita using ggplot2.

In your plot, put GDP per capita on a log scale.

24.3 Exercise 2: Explore two variables with dplyr and ggplot2
Use gapminder, palmerpenguins::penguins, or another dataset of your choice. (Check out a dataset from the datasets or psych R package if you want!

24.3.1 2.1
Pick two quantitative variables to explore.

Make a summary table of descriptive statistics for these variables using summarize().
Include whatever staistics you feel appropriate (mean, median sd, range, etc.).
Make a scatterplot of these variables using ggplot().
24.3.2 2.2
Pick one categorical variable and one quantitative variable to explore.

Make a summary table giving the sample size (hint: n()) and descriptive statistics for the quantitative variable by group.
Make one or more useful plots to visualize these variables.
Try to make a raincloud plot with points, boxplots, and densities for each group.